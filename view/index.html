<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Bell - Realtime anomalous metrics detection</title>
    <link rel="shortcut icon" href="{{url('static', 'img/bell.png')}}">
    <link rel="stylesheet" href="{{url('static', 'css/style.css')}}" type="text/css" />
    <link rel="stylesheet" href="{{url('static', 'css/cubism.css')}}" type="text/css" />
    <script src="{{url('static', 'js/d3.min.js')}}"></script>
    <script src="{{url('static', 'js/cubism.v1.min.js')}}"></script>
  </head>
  <body>
    <div class="header">
      <a href="{{url('/')}}" class="logo">
        <img src="{{url('static', 'img/logo.png')}}"/>
      </a>
    </div>
    <div class="container">
      <div class="input-form">
        <script>
        function submitform() {
          window.location.href = "{{url('/')}}" + document.getElementById('form').pattern.value;
        }
        </script>
        <form id="form" action="" method="get" accept-charset="utf-8" onsubmit="submitform();return false;">
        <input name='pattern' type="text" placeholder="Pattern[/Limit]"  autofocus="autofocus">
        </form>
      </div>
      <div class="main">
        <div class="description"> filter: {{pattern}}, limit: {{limit}}, recent: 3h </div>
        <div id="chart"></div>
      </div>
      <div class="footer">
        Copyright (c) 2014 <a href="https://github.com/eleme">Eleme, Inc</a> |
        <a href="https://github.com/eleme/node-bell">Bell</a>
      </div>
    </div>
  </body>
</html>
<script src="{{url('static', 'js/script.js')}}"></script>
{%autoescape false%}
<script>
window.onload = function() {
  init('{{type}}','{{pattern}}', {{limit}}, '{{apiPrefix}}');
}
</script>
{%endautoescape%}
